import{I as Ie,J as Ct,K as ls,L as us,M as Qe,o as we,c as W,N as cs,a as _e,x as E,i as ne,_ as Q,r as O,O as ds,b as C,e as V,f as m,w as x,h as ye,n as It,g,t as L,P as at,Q as Ye,R as kt,S as se,T as fs,u as ms}from"../index39551.js";import{e as ue,s as hs,p as ys}from"./helpers39551.js";class ce extends Error{}class ps extends ce{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class gs extends ce{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class ws extends ce{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Me extends ce{}class an extends ce{constructor(e){super(`Invalid unit ${e}`)}}class q extends ce{}class K extends ce{constructor(){super("Zone is an abstract class")}}const c="numeric",G="short",z="long",Be={year:c,month:c,day:c},ln={year:c,month:G,day:c},_s={year:c,month:G,day:c,weekday:G},un={year:c,month:z,day:c},cn={year:c,month:z,day:c,weekday:z},dn={hour:c,minute:c},fn={hour:c,minute:c,second:c},mn={hour:c,minute:c,second:c,timeZoneName:G},hn={hour:c,minute:c,second:c,timeZoneName:z},yn={hour:c,minute:c,hourCycle:"h23"},pn={hour:c,minute:c,second:c,hourCycle:"h23"},gn={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:G},wn={hour:c,minute:c,second:c,hourCycle:"h23",timeZoneName:z},_n={year:c,month:c,day:c,hour:c,minute:c},vn={year:c,month:c,day:c,hour:c,minute:c,second:c},Tn={year:c,month:G,day:c,hour:c,minute:c},kn={year:c,month:G,day:c,hour:c,minute:c,second:c},vs={year:c,month:G,day:c,weekday:G,hour:c,minute:c},On={year:c,month:z,day:c,hour:c,minute:c,timeZoneName:G},Sn={year:c,month:z,day:c,hour:c,minute:c,second:c,timeZoneName:G},bn={year:c,month:z,day:c,weekday:z,hour:c,minute:c,timeZoneName:z},xn={year:c,month:z,day:c,weekday:z,hour:c,minute:c,second:c,timeZoneName:z};class Fe{get type(){throw new K}get name(){throw new K}get ianaName(){return this.name}get isUniversal(){throw new K}offsetName(e,n){throw new K}formatOffset(e,n){throw new K}offset(e){throw new K}equals(e){throw new K}get isValid(){throw new K}}let lt=null;class Ke extends Fe{static get instance(){return lt===null&&(lt=new Ke),lt}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return Mn(e,n,s)}formatOffset(e,n){return Ce(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Pe={};function Ts(t){return Pe[t]||(Pe[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Pe[t]}const ks={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Os(t,e){const n=t.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,o,i,a,l,u,d]=s;return[i,r,o,a,l,u,d]}function Ss(t,e){const n=t.formatToParts(e),s=[];for(let r=0;r<n.length;r++){const{type:o,value:i}=n[r],a=ks[o];o==="era"?s[a]=i:_(a)||(s[a]=parseInt(i,10))}return s}let Ae={};class j extends Fe{static create(e){return Ae[e]||(Ae[e]=new j(e)),Ae[e]}static resetCache(){Ae={},Pe={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=j.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:s}){return Mn(e,n,s,this.name)}formatOffset(e,n){return Ce(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const s=Ts(this.name);let[r,o,i,a,l,u,d]=s.formatToParts?Ss(s,n):Os(s,n);a==="BC"&&(r=-Math.abs(r)+1);const S=et({year:r,month:o,day:i,hour:l===24?0:l,minute:u,second:d,millisecond:0});let f=+n;const v=f%1e3;return f-=v>=0?v:1e3+v,(S-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Ft={};function bs(t,e={}){const n=JSON.stringify([t,e]);let s=Ft[n];return s||(s=new Intl.ListFormat(t,e),Ft[n]=s),s}let yt={};function pt(t,e={}){const n=JSON.stringify([t,e]);let s=yt[n];return s||(s=new Intl.DateTimeFormat(t,e),yt[n]=s),s}let gt={};function xs(t,e={}){const n=JSON.stringify([t,e]);let s=gt[n];return s||(s=new Intl.NumberFormat(t,e),gt[n]=s),s}let wt={};function Ds(t,e={}){const{base:n,...s}=e,r=JSON.stringify([t,s]);let o=wt[r];return o||(o=new Intl.RelativeTimeFormat(t,e),wt[r]=o),o}let Ne=null;function Ms(){return Ne||(Ne=new Intl.DateTimeFormat().resolvedOptions().locale,Ne)}function Ns(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let s,r;try{s=pt(t).resolvedOptions(),r=t}catch{const l=t.substring(0,n);s=pt(l).resolvedOptions(),r=l}const{numberingSystem:o,calendar:i}=s;return[r,o,i]}}function Es(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Cs(t){const e=[];for(let n=1;n<=12;n++){const s=y.utc(2009,n,1);e.push(t(s))}return e}function Is(t){const e=[];for(let n=1;n<=7;n++){const s=y.utc(2016,11,13+n);e.push(t(s))}return e}function Ze(t,e,n,s){const r=t.listingMode();return r==="error"?null:r==="en"?n(e):s(e)}function Fs(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Vs{constructor(e,n,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:r,floor:o,...i}=s;if(!n||Object.keys(i).length>0){const a={useGrouping:!1,...s};s.padTo>0&&(a.minimumIntegerDigits=s.padTo),this.inf=xs(e,a)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):St(e,3);return F(n,this.padTo)}}}class $s{constructor(e,n,s){this.opts=s,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const i=-1*(e.offset/60),a=i>=0?`Etc/GMT+${i}`:`Etc/GMT${i}`;e.offset!==0&&j.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||r,this.dtf=pt(n,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:s}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Ls{constructor(e,n,s){this.opts={style:"long",...s},!n&&Dn()&&(this.rtf=Ds(e,s))}format(e,n){return this.rtf?this.rtf.format(e,n):Xs(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class M{static fromOpts(e){return M.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,s,r=!1){const o=e||I.defaultLocale,i=o||(r?"en-US":Ms()),a=n||I.defaultNumberingSystem,l=s||I.defaultOutputCalendar;return new M(i,a,l,o)}static resetCache(){Ne=null,yt={},gt={},wt={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:s}={}){return M.create(e,n,s)}constructor(e,n,s,r){const[o,i,a]=Ns(e);this.locale=o,this.numberingSystem=n||i||null,this.outputCalendar=s||a||null,this.intl=Es(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Fs(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:M.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Ze(this,e,Cn,()=>{const s=n?{month:e,day:"numeric"}:{month:e},r=n?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=Cs(o=>this.extract(o,s,"month"))),this.monthsCache[r][e]})}weekdays(e,n=!1){return Ze(this,e,Vn,()=>{const s=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=n?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=Is(o=>this.extract(o,s,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Ze(this,void 0,()=>$n,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[y.utc(2016,11,13,9),y.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Ze(this,e,Ln,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[y.utc(-40,1,1),y.utc(2017,1,1)].map(s=>this.extract(s,n,"era"))),this.eraCache[e]})}extract(e,n,s){const r=this.dtFormatter(e,n),o=r.formatToParts(),i=o.find(a=>a.type.toLowerCase()===s);return i?i.value:null}numberFormatter(e={}){return new Vs(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new $s(e,this.intl,n)}relFormatter(e={}){return new Ls(this.intl,this.isEnglish(),e)}listFormatter(e={}){return bs(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let ut=null;class Z extends Fe{static get utcInstance(){return ut===null&&(ut=new Z(0)),ut}static instance(e){return e===0?Z.utcInstance:new Z(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Z(tt(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ce(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ce(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Ce(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class As extends Fe{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function te(t,e){if(_(t)||t===null)return e;if(t instanceof Fe)return t;if(Zs(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Ke.instance:n==="utc"||n==="gmt"?Z.utcInstance:Z.parseSpecifier(n)||j.create(t)}else return le(t)?Z.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new As(t)}let Vt=()=>Date.now(),$t="system",Lt=null,At=null,Zt=null,zt=60,Ut;class I{static get now(){return Vt}static set now(e){Vt=e}static set defaultZone(e){$t=e}static get defaultZone(){return te($t,Ke.instance)}static get defaultLocale(){return Lt}static set defaultLocale(e){Lt=e}static get defaultNumberingSystem(){return At}static set defaultNumberingSystem(e){At=e}static get defaultOutputCalendar(){return Zt}static set defaultOutputCalendar(e){Zt=e}static get twoDigitCutoffYear(){return zt}static set twoDigitCutoffYear(e){zt=e%100}static get throwOnInvalid(){return Ut}static set throwOnInvalid(e){Ut=e}static resetCaches(){M.resetCache(),j.resetCache()}}function _(t){return typeof t>"u"}function le(t){return typeof t=="number"}function Xe(t){return typeof t=="number"&&t%1===0}function Zs(t){return typeof t=="string"}function zs(t){return Object.prototype.toString.call(t)==="[object Date]"}function Dn(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Us(t){return Array.isArray(t)?t:[t]}function Rt(t,e,n){if(t.length!==0)return t.reduce((s,r)=>{const o=[e(r),r];return s&&n(s[0],o[0])===s[0]?s:o},null)[1]}function Rs(t,e){return e.reduce((n,s)=>(n[s]=t[s],n),{})}function ge(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function J(t,e,n){return Xe(t)&&t>=e&&t<=n}function qs(t,e){return t-e*Math.floor(t/e)}function F(t,e=2){const n=t<0;let s;return n?s="-"+(""+-t).padStart(e,"0"):s=(""+t).padStart(e,"0"),s}function ee(t){if(!(_(t)||t===null||t===""))return parseInt(t,10)}function ie(t){if(!(_(t)||t===null||t===""))return parseFloat(t)}function Ot(t){if(!(_(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function St(t,e,n=!1){const s=10**e;return(n?Math.trunc:Math.round)(t*s)/s}function Ve(t){return t%4===0&&(t%100!==0||t%400===0)}function Ee(t){return Ve(t)?366:365}function Ge(t,e){const n=qs(e-1,12)+1,s=t+(e-n)/12;return n===2?Ve(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function et(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Je(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,s=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||s===3?53:52}function _t(t){return t>99?t:t>I.twoDigitCutoffYear?1900+t:2e3+t}function Mn(t,e,n,s=null){const r=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(o.timeZone=s);const i={timeZoneName:e,...o},a=new Intl.DateTimeFormat(n,i).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function tt(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const s=parseInt(e,10)||0,r=n<0||Object.is(n,-0)?-s:s;return n*60+r}function Nn(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new q(`Invalid unit value ${t}`);return e}function je(t,e){const n={};for(const s in t)if(ge(t,s)){const r=t[s];if(r==null)continue;n[e(s)]=Nn(r)}return n}function Ce(t,e){const n=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${F(n,2)}:${F(s,2)}`;case"narrow":return`${r}${n}${s>0?`:${s}`:""}`;case"techie":return`${r}${F(n,2)}${F(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function nt(t){return Rs(t,["hour","minute","second","millisecond"])}const Ws=["January","February","March","April","May","June","July","August","September","October","November","December"],En=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ps=["J","F","M","A","M","J","J","A","S","O","N","D"];function Cn(t){switch(t){case"narrow":return[...Ps];case"short":return[...En];case"long":return[...Ws];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const In=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Fn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Hs=["M","T","W","T","F","S","S"];function Vn(t){switch(t){case"narrow":return[...Hs];case"short":return[...Fn];case"long":return[...In];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const $n=["AM","PM"],Ys=["Before Christ","Anno Domini"],Bs=["BC","AD"],Gs=["B","A"];function Ln(t){switch(t){case"narrow":return[...Gs];case"short":return[...Bs];case"long":return[...Ys];default:return null}}function Js(t){return $n[t.hour<12?0:1]}function js(t,e){return Vn(e)[t.weekday-1]}function Qs(t,e){return Cn(e)[t.month-1]}function Ks(t,e){return Ln(e)[t.year<0?0:1]}function Xs(t,e,n="always",s=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&o){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${r[t][0]}`;case-1:return h?"yesterday":`last ${r[t][0]}`;case 0:return h?"today":`this ${r[t][0]}`}}const i=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,u=r[t],d=s?l?u[1]:u[2]||u[1]:l?r[t][0]:t;return i?`${a} ${d} ago`:`in ${a} ${d}`}function qt(t,e){let n="";for(const s of t)s.literal?n+=s.val:n+=e(s.val);return n}const er={D:Be,DD:ln,DDD:un,DDDD:cn,t:dn,tt:fn,ttt:mn,tttt:hn,T:yn,TT:pn,TTT:gn,TTTT:wn,f:_n,ff:Tn,fff:On,ffff:bn,F:vn,FF:kn,FFF:Sn,FFFF:xn};class A{static create(e,n={}){return new A(e,n)}static parseFormat(e){let n=null,s="",r=!1;const o=[];for(let i=0;i<e.length;i++){const a=e.charAt(i);a==="'"?(s.length>0&&o.push({literal:r||/^\s+$/.test(s),val:s}),n=null,s="",r=!r):r||a===n?s+=a:(s.length>0&&o.push({literal:/^\s+$/.test(s),val:s}),s=a,n=a)}return s.length>0&&o.push({literal:r||/^\s+$/.test(s),val:s}),o}static macroTokenToFormatOpts(e){return er[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return F(e,n);const s={...this.opts};return n>0&&(s.padTo=n),this.loc.numberFormatter(s).format(e)}formatDateTimeFromString(e,n){const s=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(f,v)=>this.loc.extract(e,f,v),i=f=>e.isOffsetFixed&&e.offset===0&&f.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,f.format):"",a=()=>s?Js(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(f,v)=>s?Qs(e,f):o(v?{month:f}:{month:f,day:"numeric"},"month"),u=(f,v)=>s?js(e,f):o(v?{weekday:f}:{weekday:f,month:"long",day:"numeric"},"weekday"),d=f=>{const v=A.macroTokenToFormatOpts(f);return v?this.formatWithSystemDefault(e,v):f},h=f=>s?Ks(e,f):o({era:f},"era"),S=f=>{switch(f){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?o({day:"numeric"},"day"):this.num(e.day);case"dd":return r?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return u("short",!0);case"cccc":return u("long",!0);case"ccccc":return u("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return u("short",!1);case"EEEE":return u("long",!1);case"EEEEE":return u("narrow",!1);case"L":return r?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?o({month:"numeric"},"month"):this.num(e.month);case"MM":return r?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?o({year:"numeric"},"year"):this.num(e.year);case"yy":return r?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return d(f)}};return qt(A.parseFormat(n),S)}formatDurationFromString(e,n){const s=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>u=>{const d=s(u);return d?this.num(l.get(d),u.length):u},o=A.parseFormat(n),i=o.reduce((l,{literal:u,val:d})=>u?l:l.concat(d),[]),a=e.shiftTo(...i.map(s).filter(l=>l));return qt(o,r(a))}}class B{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const An=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ve(...t){const e=t.reduce((n,s)=>n+s.source,"");return RegExp(`^${e}$`)}function Te(...t){return e=>t.reduce(([n,s,r],o)=>{const[i,a,l]=o(e,r);return[{...n,...i},a||s,l]},[{},null,1]).slice(0,2)}function ke(t,...e){if(t==null)return[null,null];for(const[n,s]of e){const r=n.exec(t);if(r)return s(r)}return[null,null]}function Zn(...t){return(e,n)=>{const s={};let r;for(r=0;r<t.length;r++)s[t[r]]=ee(e[n+r]);return[s,null,n+r]}}const zn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tr=`(?:${zn.source}?(?:\\[(${An.source})\\])?)?`,bt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Un=RegExp(`${bt.source}${tr}`),xt=RegExp(`(?:T${Un.source})?`),nr=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,sr=/(\d{4})-?W(\d\d)(?:-?(\d))?/,rr=/(\d{4})-?(\d{3})/,ir=Zn("weekYear","weekNumber","weekDay"),or=Zn("year","ordinal"),ar=/(\d{4})-(\d\d)-(\d\d)/,Rn=RegExp(`${bt.source} ?(?:${zn.source}|(${An.source}))?`),lr=RegExp(`(?: ${Rn.source})?`);function pe(t,e,n){const s=t[e];return _(s)?n:ee(s)}function ur(t,e){return[{year:pe(t,e),month:pe(t,e+1,1),day:pe(t,e+2,1)},null,e+3]}function Oe(t,e){return[{hours:pe(t,e,0),minutes:pe(t,e+1,0),seconds:pe(t,e+2,0),milliseconds:Ot(t[e+3])},null,e+4]}function $e(t,e){const n=!t[e]&&!t[e+1],s=tt(t[e+1],t[e+2]),r=n?null:Z.instance(s);return[{},r,e+3]}function Le(t,e){const n=t[e]?j.create(t[e]):null;return[{},n,e+1]}const cr=RegExp(`^T?${bt.source}$`),dr=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function fr(t){const[e,n,s,r,o,i,a,l,u]=t,d=e[0]==="-",h=l&&l[0]==="-",S=(f,v=!1)=>f!==void 0&&(v||f&&d)?-f:f;return[{years:S(ie(n)),months:S(ie(s)),weeks:S(ie(r)),days:S(ie(o)),hours:S(ie(i)),minutes:S(ie(a)),seconds:S(ie(l),l==="-0"),milliseconds:S(Ot(u),h)}]}const mr={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Dt(t,e,n,s,r,o,i){const a={year:e.length===2?_t(ee(e)):ee(e),month:En.indexOf(n)+1,day:ee(s),hour:ee(r),minute:ee(o)};return i&&(a.second=ee(i)),t&&(a.weekday=t.length>3?In.indexOf(t)+1:Fn.indexOf(t)+1),a}const hr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function yr(t){const[,e,n,s,r,o,i,a,l,u,d,h]=t,S=Dt(e,r,s,n,o,i,a);let f;return l?f=mr[l]:u?f=0:f=tt(d,h),[S,new Z(f)]}function pr(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const gr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,wr=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_r=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Wt(t){const[,e,n,s,r,o,i,a]=t;return[Dt(e,r,s,n,o,i,a),Z.utcInstance]}function vr(t){const[,e,n,s,r,o,i,a]=t;return[Dt(e,a,n,s,r,o,i),Z.utcInstance]}const Tr=ve(nr,xt),kr=ve(sr,xt),Or=ve(rr,xt),Sr=ve(Un),qn=Te(ur,Oe,$e,Le),br=Te(ir,Oe,$e,Le),xr=Te(or,Oe,$e,Le),Dr=Te(Oe,$e,Le);function Mr(t){return ke(t,[Tr,qn],[kr,br],[Or,xr],[Sr,Dr])}function Nr(t){return ke(pr(t),[hr,yr])}function Er(t){return ke(t,[gr,Wt],[wr,Wt],[_r,vr])}function Cr(t){return ke(t,[dr,fr])}const Ir=Te(Oe);function Fr(t){return ke(t,[cr,Ir])}const Vr=ve(ar,lr),$r=ve(Rn),Lr=Te(Oe,$e,Le);function Ar(t){return ke(t,[Vr,qn],[$r,Lr])}const Pt="Invalid Duration",Wn={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Zr={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Wn},R=146097/400,fe=146097/4800,zr={years:{quarters:4,months:12,weeks:R/7,days:R,hours:R*24,minutes:R*24*60,seconds:R*24*60*60,milliseconds:R*24*60*60*1e3},quarters:{months:3,weeks:R/28,days:R/4,hours:R*24/4,minutes:R*24*60/4,seconds:R*24*60*60/4,milliseconds:R*24*60*60*1e3/4},months:{weeks:fe/7,days:fe,hours:fe*24,minutes:fe*24*60,seconds:fe*24*60*60,milliseconds:fe*24*60*60*1e3},...Wn},ae=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ur=ae.slice(0).reverse();function X(t,e,n=!1){const s={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new T(s)}function Pn(t,e){let n=e.milliseconds??0;for(const s of Ur.slice(1))e[s]&&(n+=e[s]*t[s].milliseconds);return n}function Ht(t,e){const n=Pn(t,e)<0?-1:1;ae.reduceRight((s,r)=>{if(_(e[r]))return s;if(s){const o=e[s]*n,i=t[r][s],a=Math.floor(o/i);e[r]+=a*n,e[s]-=a*i*n}return r},null),ae.reduce((s,r)=>{if(_(e[r]))return s;if(s){const o=e[s]%1;e[s]-=o,e[r]+=o*t[s][r]}return r},null)}function Rr(t){const e={};for(const[n,s]of Object.entries(t))s!==0&&(e[n]=s);return e}class T{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let s=n?zr:Zr;e.matrix&&(s=e.matrix),this.values=e.values,this.loc=e.loc||M.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(e,n){return T.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new q(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new T({values:je(e,T.normalizeUnit),loc:M.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(le(e))return T.fromMillis(e);if(T.isDuration(e))return e;if(typeof e=="object")return T.fromObject(e);throw new q(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[s]=Cr(e);return s?T.fromObject(s,n):T.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[s]=Fr(e);return s?T.fromObject(s,n):T.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new q("need to specify a reason the Duration is invalid");const s=e instanceof B?e:new B(e,n);if(I.throwOnInvalid)throw new ws(s);return new T({invalid:s})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new an(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const s={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?A.create(this.loc,s).formatDurationFromString(this,e):Pt}toHuman(e={}){if(!this.isValid)return Pt;const n=ae.map(s=>{const r=this.values[s];return _(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:s.slice(0,-1)}).format(r)}).filter(s=>s);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=St(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},y.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?Pn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e),s={};for(const r of ae)(ge(n.values,r)||ge(this.values,r))&&(s[r]=n.get(r)+this.get(r));return X(this,{values:s},!0)}minus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const s of Object.keys(this.values))n[s]=Nn(e(this.values[s],s));return X(this,{values:n},!0)}get(e){return this[T.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...je(e,T.normalizeUnit)};return X(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:s,matrix:r}={}){const i={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:r,conversionAccuracy:s};return X(this,i)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Ht(this.matrix,e),X(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Rr(this.normalize().shiftToAll().toObject());return X(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(i=>T.normalizeUnit(i));const n={},s={},r=this.toObject();let o;for(const i of ae)if(e.indexOf(i)>=0){o=i;let a=0;for(const u in s)a+=this.matrix[u][i]*s[u],s[u]=0;le(r[i])&&(a+=r[i]);const l=Math.trunc(a);n[i]=l,s[i]=(a*1e3-l*1e3)/1e3}else le(r[i])&&(s[i]=r[i]);for(const i in s)s[i]!==0&&(n[o]+=i===o?s[i]:s[i]/this.matrix[o][i]);return Ht(this.matrix,n),X(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return X(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(s,r){return s===void 0||s===0?r===void 0||r===0:s===r}for(const s of ae)if(!n(this.values[s],e.values[s]))return!1;return!0}}const me="Invalid Interval";function qr(t,e){return!t||!t.isValid?N.invalid("missing or invalid start"):!e||!e.isValid?N.invalid("missing or invalid end"):e<t?N.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class N{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new q("need to specify a reason the Interval is invalid");const s=e instanceof B?e:new B(e,n);if(I.throwOnInvalid)throw new gs(s);return new N({invalid:s})}static fromDateTimes(e,n){const s=De(e),r=De(n),o=qr(s,r);return o??new N({start:s,end:r})}static after(e,n){const s=T.fromDurationLike(n),r=De(e);return N.fromDateTimes(r,r.plus(s))}static before(e,n){const s=T.fromDurationLike(n),r=De(e);return N.fromDateTimes(r.minus(s),r)}static fromISO(e,n){const[s,r]=(e||"").split("/",2);if(s&&r){let o,i;try{o=y.fromISO(s,n),i=o.isValid}catch{i=!1}let a,l;try{a=y.fromISO(r,n),l=a.isValid}catch{l=!1}if(i&&l)return N.fromDateTimes(o,a);if(i){const u=T.fromISO(r,n);if(u.isValid)return N.after(o,u)}else if(l){const u=T.fromISO(s,n);if(u.isValid)return N.before(a,u)}}return N.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),s=this.end.startOf(e);return Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?N.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(De).filter(i=>this.contains(i)).sort(),s=[];let{s:r}=this,o=0;for(;r<this.e;){const i=n[o]||this.e,a=+i>+this.e?this.e:i;s.push(N.fromDateTimes(r,a)),r=a,o+=1}return s}splitBy(e){const n=T.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s}=this,r=1,o;const i=[];for(;s<this.e;){const a=this.start.plus(n.mapUnits(l=>l*r));o=+a>+this.e?this.e:a,i.push(N.fromDateTimes(s,o)),s=o,r+=1}return i}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,s=this.e<e.e?this.e:e.e;return n>=s?null:N.fromDateTimes(n,s)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,s=this.e>e.e?this.e:e.e;return N.fromDateTimes(n,s)}static merge(e){const[n,s]=e.sort((r,o)=>r.s-o.s).reduce(([r,o],i)=>o?o.overlaps(i)||o.abutsStart(i)?[r,o.union(i)]:[r.concat([o]),i]:[r,i],[[],null]);return s&&n.push(s),n}static xor(e){let n=null,s=0;const r=[],o=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),i=Array.prototype.concat(...o),a=i.sort((l,u)=>l.time-u.time);for(const l of a)s+=l.type==="s"?1:-1,s===1?n=l.time:(n&&+n!=+l.time&&r.push(N.fromDateTimes(n,l.time)),n=null);return N.merge(r)}difference(...e){return N.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:me}toLocaleString(e=Be,n={}){return this.isValid?A.create(this.s.loc.clone(n),e).formatInterval(this):me}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:me}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:me}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:me}toFormat(e,{separator:n=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:me}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):T.invalid(this.invalidReason)}mapEndpoints(e){return N.fromDateTimes(e(this.s),e(this.e))}}class ze{static hasDST(e=I.defaultZone){const n=y.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return j.isValidZone(e)}static normalizeZone(e){return te(e,I.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||M.create(n,s,o)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null,outputCalendar:o="gregory"}={}){return(r||M.create(n,s,o)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null}={}){return(r||M.create(n,s,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:s=null,locObj:r=null}={}){return(r||M.create(n,s,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return M.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return M.create(n,null,"gregory").eras(e)}static features(){return{relative:Dn()}}}function Yt(t,e){const n=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=n(e)-n(t);return Math.floor(T.fromMillis(s).as("days"))}function Wr(t,e,n){const s=[["years",(l,u)=>u.year-l.year],["quarters",(l,u)=>u.quarter-l.quarter+(u.year-l.year)*4],["months",(l,u)=>u.month-l.month+(u.year-l.year)*12],["weeks",(l,u)=>{const d=Yt(l,u);return(d-d%7)/7}],["days",Yt]],r={},o=t;let i,a;for(const[l,u]of s)n.indexOf(l)>=0&&(i=l,r[l]=u(t,e),a=o.plus(r),a>e?(r[l]--,t=o.plus(r),t>e&&(a=t,r[l]--,t=o.plus(r))):t=a);return[t,r,a,i]}function Pr(t,e,n,s){let[r,o,i,a]=Wr(t,e,n);const l=e-r,u=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);u.length===0&&(i<e&&(i=r.plus({[a]:1})),i!==r&&(o[a]=(o[a]||0)+l/(i-r)));const d=T.fromObject(o,s);return u.length>0?T.fromMillis(l,s).shiftTo(...u).plus(d):d}const Mt={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Bt={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Hr=Mt.hanidec.replace(/[\[|\]]/g,"").split("");function Yr(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(t[n].search(Mt.hanidec)!==-1)e+=Hr.indexOf(t[n]);else for(const r in Bt){const[o,i]=Bt[r];s>=o&&s<=i&&(e+=s-o)}}return parseInt(e,10)}else return e}function H({numberingSystem:t},e=""){return new RegExp(`${Mt[t||"latn"]}${e}`)}const Br="missing Intl.DateTimeFormat.formatToParts support";function k(t,e=n=>n){return{regex:t,deser:([n])=>e(Yr(n))}}const Gr=String.fromCharCode(160),Hn=`[ ${Gr}]`,Yn=new RegExp(Hn,"g");function Jr(t){return t.replace(/\./g,"\\.?").replace(Yn,Hn)}function Gt(t){return t.replace(/\./g,"").replace(Yn," ").toLowerCase()}function Y(t,e){return t===null?null:{regex:RegExp(t.map(Jr).join("|")),deser:([n])=>t.findIndex(s=>Gt(n)===Gt(s))+e}}function Jt(t,e){return{regex:t,deser:([,n,s])=>tt(n,s),groups:e}}function Ue(t){return{regex:t,deser:([e])=>e}}function jr(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Qr(t,e){const n=H(e),s=H(e,"{2}"),r=H(e,"{3}"),o=H(e,"{4}"),i=H(e,"{6}"),a=H(e,"{1,2}"),l=H(e,"{1,3}"),u=H(e,"{1,6}"),d=H(e,"{1,9}"),h=H(e,"{2,4}"),S=H(e,"{4,6}"),f=p=>({regex:RegExp(jr(p.val)),deser:([w])=>w,literal:!0}),b=(p=>{if(t.literal)return f(p);switch(p.val){case"G":return Y(e.eras("short"),0);case"GG":return Y(e.eras("long"),0);case"y":return k(u);case"yy":return k(h,_t);case"yyyy":return k(o);case"yyyyy":return k(S);case"yyyyyy":return k(i);case"M":return k(a);case"MM":return k(s);case"MMM":return Y(e.months("short",!0),1);case"MMMM":return Y(e.months("long",!0),1);case"L":return k(a);case"LL":return k(s);case"LLL":return Y(e.months("short",!1),1);case"LLLL":return Y(e.months("long",!1),1);case"d":return k(a);case"dd":return k(s);case"o":return k(l);case"ooo":return k(r);case"HH":return k(s);case"H":return k(a);case"hh":return k(s);case"h":return k(a);case"mm":return k(s);case"m":return k(a);case"q":return k(a);case"qq":return k(s);case"s":return k(a);case"ss":return k(s);case"S":return k(l);case"SSS":return k(r);case"u":return Ue(d);case"uu":return Ue(a);case"uuu":return k(n);case"a":return Y(e.meridiems(),0);case"kkkk":return k(o);case"kk":return k(h,_t);case"W":return k(a);case"WW":return k(s);case"E":case"c":return k(n);case"EEE":return Y(e.weekdays("short",!1),1);case"EEEE":return Y(e.weekdays("long",!1),1);case"ccc":return Y(e.weekdays("short",!0),1);case"cccc":return Y(e.weekdays("long",!0),1);case"Z":case"ZZ":return Jt(new RegExp(`([+-]${a.source})(?::(${s.source}))?`),2);case"ZZZ":return Jt(new RegExp(`([+-]${a.source})(${s.source})?`),2);case"z":return Ue(/[a-z_+-/]{1,256}?/i);case" ":return Ue(/[^\S\n\r]/);default:return f(p)}})(t)||{invalidReason:Br};return b.token=t,b}const Kr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Xr(t,e,n){const{type:s,value:r}=t;if(s==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const o=e[s];let i=s;s==="hour"&&(e.hour12!=null?i=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?i="hour12":i="hour24":i=n.hour12?"hour12":"hour24");let a=Kr[i];if(typeof a=="object"&&(a=a[o]),a)return{literal:!1,val:a}}function ei(t){return[`^${t.map(n=>n.regex).reduce((n,s)=>`${n}(${s.source})`,"")}$`,t]}function ti(t,e,n){const s=t.match(e);if(s){const r={};let o=1;for(const i in n)if(ge(n,i)){const a=n[i],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(s.slice(o,o+l))),o+=l}return[s,r]}else return[s,{}]}function ni(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,s;return _(t.z)||(n=j.create(t.z)),_(t.Z)||(n||(n=new Z(t.Z)),s=t.Z),_(t.q)||(t.M=(t.q-1)*3+1),_(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),_(t.u)||(t.S=Ot(t.u)),[Object.keys(t).reduce((o,i)=>{const a=e(i);return a&&(o[a]=t[i]),o},{}),n,s]}let ct=null;function si(){return ct||(ct=y.fromMillis(1555555555555)),ct}function ri(t,e){if(t.literal)return t;const n=A.macroTokenToFormatOpts(t.val),s=Jn(n,e);return s==null||s.includes(void 0)?t:s}function Bn(t,e){return Array.prototype.concat(...t.map(n=>ri(n,e)))}function Gn(t,e,n){const s=Bn(A.parseFormat(n),t),r=s.map(i=>Qr(i,t)),o=r.find(i=>i.invalidReason);if(o)return{input:e,tokens:s,invalidReason:o.invalidReason};{const[i,a]=ei(r),l=RegExp(i,"i"),[u,d]=ti(e,l,a),[h,S,f]=d?ni(d):[null,null,void 0];if(ge(d,"a")&&ge(d,"H"))throw new Me("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:l,rawMatches:u,matches:d,result:h,zone:S,specificOffset:f}}}function ii(t,e,n){const{result:s,zone:r,specificOffset:o,invalidReason:i}=Gn(t,e,n);return[s,r,o,i]}function Jn(t,e){if(!t)return null;const s=A.create(e,t).dtFormatter(si()),r=s.formatToParts(),o=s.resolvedOptions();return r.map(i=>Xr(i,t,o))}const jn=[0,31,59,90,120,151,181,212,243,273,304,334],Qn=[0,31,60,91,121,152,182,213,244,274,305,335];function P(t,e){return new B("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Kn(t,e,n){const s=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const r=s.getUTCDay();return r===0?7:r}function Xn(t,e,n){return n+(Ve(t)?Qn:jn)[e-1]}function es(t,e){const n=Ve(t)?Qn:jn,s=n.findIndex(o=>o<e),r=e-n[s];return{month:s+1,day:r}}function vt(t){const{year:e,month:n,day:s}=t,r=Xn(e,n,s),o=Kn(e,n,s);let i=Math.floor((r-o+10)/7),a;return i<1?(a=e-1,i=Je(a)):i>Je(e)?(a=e+1,i=1):a=e,{weekYear:a,weekNumber:i,weekday:o,...nt(t)}}function jt(t){const{weekYear:e,weekNumber:n,weekday:s}=t,r=Kn(e,1,4),o=Ee(e);let i=n*7+s-r-3,a;i<1?(a=e-1,i+=Ee(a)):i>o?(a=e+1,i-=Ee(e)):a=e;const{month:l,day:u}=es(a,i);return{year:a,month:l,day:u,...nt(t)}}function dt(t){const{year:e,month:n,day:s}=t,r=Xn(e,n,s);return{year:e,ordinal:r,...nt(t)}}function Qt(t){const{year:e,ordinal:n}=t,{month:s,day:r}=es(e,n);return{year:e,month:s,day:r,...nt(t)}}function oi(t){const e=Xe(t.weekYear),n=J(t.weekNumber,1,Je(t.weekYear)),s=J(t.weekday,1,7);return e?n?s?!1:P("weekday",t.weekday):P("week",t.week):P("weekYear",t.weekYear)}function ai(t){const e=Xe(t.year),n=J(t.ordinal,1,Ee(t.year));return e?n?!1:P("ordinal",t.ordinal):P("year",t.year)}function ts(t){const e=Xe(t.year),n=J(t.month,1,12),s=J(t.day,1,Ge(t.year,t.month));return e?n?s?!1:P("day",t.day):P("month",t.month):P("year",t.year)}function ns(t){const{hour:e,minute:n,second:s,millisecond:r}=t,o=J(e,0,23)||e===24&&n===0&&s===0&&r===0,i=J(n,0,59),a=J(s,0,59),l=J(r,0,999);return o?i?a?l?!1:P("millisecond",r):P("second",s):P("minute",n):P("hour",e)}const ft="Invalid DateTime",Kt=864e13;function Re(t){return new B("unsupported zone",`the zone "${t.name}" is not supported`)}function mt(t){return t.weekData===null&&(t.weekData=vt(t.c)),t.weekData}function oe(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new y({...n,...e,old:n})}function ss(t,e,n){let s=t-e*60*1e3;const r=n.offset(s);if(e===r)return[s,e];s-=(r-e)*60*1e3;const o=n.offset(s);return r===o?[s,r]:[t-Math.min(r,o)*60*1e3,Math.max(r,o)]}function qe(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function He(t,e,n){return ss(et(t),e,n)}function Xt(t,e){const n=t.o,s=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:s,month:r,day:Math.min(t.c.day,Ge(s,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},i=T.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=et(o);let[l,u]=ss(a,n,t.zone);return i!==0&&(l+=i,u=t.zone.offset(l)),{ts:l,o:u}}function xe(t,e,n,s,r,o){const{setZone:i,zone:a}=n;if(t&&Object.keys(t).length!==0||e){const l=e||a,u=y.fromObject(t,{...n,zone:l,specificOffset:o});return i?u:u.setZone(a)}else return y.invalid(new B("unparsable",`the input "${r}" can't be parsed as ${s}`))}function We(t,e,n=!0){return t.isValid?A.create(M.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function ht(t,e){const n=t.c.year>9999||t.c.year<0;let s="";return n&&t.c.year>=0&&(s+="+"),s+=F(t.c.year,n?6:4),e?(s+="-",s+=F(t.c.month),s+="-",s+=F(t.c.day)):(s+=F(t.c.month),s+=F(t.c.day)),s}function en(t,e,n,s,r,o){let i=F(t.c.hour);return e?(i+=":",i+=F(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(i+=":")):i+=F(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(i+=F(t.c.second),(t.c.millisecond!==0||!s)&&(i+=".",i+=F(t.c.millisecond,3))),r&&(t.isOffsetFixed&&t.offset===0&&!o?i+="Z":t.o<0?(i+="-",i+=F(Math.trunc(-t.o/60)),i+=":",i+=F(Math.trunc(-t.o%60))):(i+="+",i+=F(Math.trunc(t.o/60)),i+=":",i+=F(Math.trunc(t.o%60)))),o&&(i+="["+t.zone.ianaName+"]"),i}const rs={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},li={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},ui={ordinal:1,hour:0,minute:0,second:0,millisecond:0},is=["year","month","day","hour","minute","second","millisecond"],ci=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],di=["year","ordinal","hour","minute","second","millisecond"];function tn(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new an(t);return e}function nn(t,e){const n=te(e.zone,I.defaultZone),s=M.fromObject(e),r=I.now();let o,i;if(_(t.year))o=r;else{for(const u of is)_(t[u])&&(t[u]=rs[u]);const a=ts(t)||ns(t);if(a)return y.invalid(a);const l=n.offset(r);[o,i]=He(t,l,n)}return new y({ts:o,zone:n,loc:s,o:i})}function sn(t,e,n){const s=_(n.round)?!0:n.round,r=(i,a)=>(i=St(i,s||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(i,a)),o=i=>n.calendary?e.hasSame(t,i)?0:e.startOf(i).diff(t.startOf(i),i).get(i):e.diff(t,i).get(i);if(n.unit)return r(o(n.unit),n.unit);for(const i of n.units){const a=o(i);if(Math.abs(a)>=1)return r(a,i)}return r(t>e?-0:0,n.units[n.units.length-1])}function rn(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class y{constructor(e){const n=e.zone||I.defaultZone;let s=e.invalid||(Number.isNaN(e.ts)?new B("invalid input"):null)||(n.isValid?null:Re(n));this.ts=_(e.ts)?I.now():e.ts;let r=null,o=null;if(!s)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[r,o]=[e.old.c,e.old.o];else{const a=n.offset(this.ts);r=qe(this.ts,a),s=Number.isNaN(r.year)?new B("invalid input"):null,r=s?null:r,o=s?null:a}this._zone=n,this.loc=e.loc||M.create(),this.invalid=s,this.weekData=null,this.c=r,this.o=o,this.isLuxonDateTime=!0}static now(){return new y({})}static local(){const[e,n]=rn(arguments),[s,r,o,i,a,l,u]=n;return nn({year:s,month:r,day:o,hour:i,minute:a,second:l,millisecond:u},e)}static utc(){const[e,n]=rn(arguments),[s,r,o,i,a,l,u]=n;return e.zone=Z.utcInstance,nn({year:s,month:r,day:o,hour:i,minute:a,second:l,millisecond:u},e)}static fromJSDate(e,n={}){const s=zs(e)?e.valueOf():NaN;if(Number.isNaN(s))return y.invalid("invalid input");const r=te(n.zone,I.defaultZone);return r.isValid?new y({ts:s,zone:r,loc:M.fromObject(n)}):y.invalid(Re(r))}static fromMillis(e,n={}){if(le(e))return e<-Kt||e>Kt?y.invalid("Timestamp out of range"):new y({ts:e,zone:te(n.zone,I.defaultZone),loc:M.fromObject(n)});throw new q(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(le(e))return new y({ts:e*1e3,zone:te(n.zone,I.defaultZone),loc:M.fromObject(n)});throw new q("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const s=te(n.zone,I.defaultZone);if(!s.isValid)return y.invalid(Re(s));const r=I.now(),o=_(n.specificOffset)?s.offset(r):n.specificOffset,i=je(e,tn),a=!_(i.ordinal),l=!_(i.year),u=!_(i.month)||!_(i.day),d=l||u,h=i.weekYear||i.weekNumber,S=M.fromObject(n);if((d||a)&&h)throw new Me("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&a)throw new Me("Can't mix ordinal dates with month/day");const f=h||i.weekday&&!d;let v,b,p=qe(r,o);f?(v=ci,b=li,p=vt(p)):a?(v=di,b=ui,p=dt(p)):(v=is,b=rs);let w=!1;for(const re of v){const it=i[re];_(it)?w?i[re]=b[re]:i[re]=p[re]:w=!0}const U=f?oi(i):a?ai(i):ts(i),de=U||ns(i);if(de)return y.invalid(de);const Se=f?jt(i):a?Qt(i):i,[st,rt]=He(Se,o,s),be=new y({ts:st,zone:s,o:rt,loc:S});return i.weekday&&d&&e.weekday!==be.weekday?y.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${be.toISO()}`):be}static fromISO(e,n={}){const[s,r]=Mr(e);return xe(s,r,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[s,r]=Nr(e);return xe(s,r,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[s,r]=Er(e);return xe(s,r,n,"HTTP",n)}static fromFormat(e,n,s={}){if(_(e)||_(n))throw new q("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:o=null}=s,i=M.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0}),[a,l,u,d]=ii(i,e,n);return d?y.invalid(d):xe(a,l,s,`format ${n}`,e,u)}static fromString(e,n,s={}){return y.fromFormat(e,n,s)}static fromSQL(e,n={}){const[s,r]=Ar(e);return xe(s,r,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new q("need to specify a reason the DateTime is invalid");const s=e instanceof B?e:new B(e,n);if(I.throwOnInvalid)throw new ps(s);return new y({invalid:s})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const s=Jn(e,M.fromObject(n));return s?s.map(r=>r?r.val:null).join(""):null}static expandFormat(e,n={}){return Bn(A.parseFormat(e),M.fromObject(n)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?mt(this).weekYear:NaN}get weekNumber(){return this.isValid?mt(this).weekNumber:NaN}get weekday(){return this.isValid?mt(this).weekday:NaN}get ordinal(){return this.isValid?dt(this.c).ordinal:NaN}get monthShort(){return this.isValid?ze.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ze.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ze.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ze.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,s=et(this.c),r=this.zone.offset(s-e),o=this.zone.offset(s+e),i=this.zone.offset(s-r*n),a=this.zone.offset(s-o*n);if(i===a)return[this];const l=s-i*n,u=s-a*n,d=qe(l,i),h=qe(u,a);return d.hour===h.hour&&d.minute===h.minute&&d.second===h.second&&d.millisecond===h.millisecond?[oe(this,{ts:l}),oe(this,{ts:u})]:[this]}get isInLeapYear(){return Ve(this.year)}get daysInMonth(){return Ge(this.year,this.month)}get daysInYear(){return this.isValid?Ee(this.year):NaN}get weeksInWeekYear(){return this.isValid?Je(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:s,calendar:r}=A.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:s,outputCalendar:r}}toUTC(e=0,n={}){return this.setZone(Z.instance(e),n)}toLocal(){return this.setZone(I.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:s=!1}={}){if(e=te(e,I.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(n||s){const o=e.offset(this.ts),i=this.toObject();[r]=He(i,o,e)}return oe(this,{ts:r,zone:e})}else return y.invalid(Re(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:s}={}){const r=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:s});return oe(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=je(e,tn),s=!_(n.weekYear)||!_(n.weekNumber)||!_(n.weekday),r=!_(n.ordinal),o=!_(n.year),i=!_(n.month)||!_(n.day),a=o||i,l=n.weekYear||n.weekNumber;if((a||r)&&l)throw new Me("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(i&&r)throw new Me("Can't mix ordinal dates with month/day");let u;s?u=jt({...vt(this.c),...n}):_(n.ordinal)?(u={...this.toObject(),...n},_(n.day)&&(u.day=Math.min(Ge(u.year,u.month),u.day))):u=Qt({...dt(this.c),...n});const[d,h]=He(u,this.o,this.zone);return oe(this,{ts:d,o:h})}plus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e);return oe(this,Xt(this,n))}minus(e){if(!this.isValid)return this;const n=T.fromDurationLike(e).negate();return oe(this,Xt(this,n))}startOf(e){if(!this.isValid)return this;const n={},s=T.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks"&&(n.weekday=1),s==="quarters"){const r=Math.ceil(this.month/3);n.month=(r-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?A.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):ft}toLocaleString(e=Be,n={}){return this.isValid?A.create(this.loc.clone(n),e).formatDateTime(this):ft}toLocaleParts(e={}){return this.isValid?A.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:s=!1,includeOffset:r=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const i=e==="extended";let a=ht(this,i);return a+="T",a+=en(this,i,n,s,r,o),a}toISODate({format:e="extended"}={}){return this.isValid?ht(this,e==="extended"):null}toISOWeekDate(){return We(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:s=!0,includePrefix:r=!1,extendedZone:o=!1,format:i="extended"}={}){return this.isValid?(r?"T":"")+en(this,i==="extended",n,e,s,o):null}toRFC2822(){return We(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return We(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?ht(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:s=!0}={}){let r="HH:mm:ss.SSS";return(n||e)&&(s&&(r+=" "),n?r+="z":e&&(r+="ZZ")),We(this,r,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():ft}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",s={}){if(!this.isValid||!e.isValid)return T.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...s},o=Us(n).map(T.normalizeUnit),i=e.valueOf()>this.valueOf(),a=i?this:e,l=i?e:this,u=Pr(a,l,o,r);return i?u.negate():u}diffNow(e="milliseconds",n={}){return this.diff(y.now(),e,n)}until(e){return this.isValid?N.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const s=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(n)<=s&&s<=r.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||y.fromObject({},{zone:this.zone}),s=e.padding?this<n?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(r=e.unit,o=void 0),sn(n,this.plus(s),{...e,numeric:"always",units:r,unit:o})}toRelativeCalendar(e={}){return this.isValid?sn(e.base||y.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(y.isDateTime))throw new q("min requires all arguments be DateTimes");return Rt(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(y.isDateTime))throw new q("max requires all arguments be DateTimes");return Rt(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,s={}){const{locale:r=null,numberingSystem:o=null}=s,i=M.fromOpts({locale:r,numberingSystem:o,defaultToEN:!0});return Gn(i,e,n)}static fromStringExplain(e,n,s={}){return y.fromFormatExplain(e,n,s)}static get DATE_SHORT(){return Be}static get DATE_MED(){return ln}static get DATE_MED_WITH_WEEKDAY(){return _s}static get DATE_FULL(){return un}static get DATE_HUGE(){return cn}static get TIME_SIMPLE(){return dn}static get TIME_WITH_SECONDS(){return fn}static get TIME_WITH_SHORT_OFFSET(){return mn}static get TIME_WITH_LONG_OFFSET(){return hn}static get TIME_24_SIMPLE(){return yn}static get TIME_24_WITH_SECONDS(){return pn}static get TIME_24_WITH_SHORT_OFFSET(){return gn}static get TIME_24_WITH_LONG_OFFSET(){return wn}static get DATETIME_SHORT(){return _n}static get DATETIME_SHORT_WITH_SECONDS(){return vn}static get DATETIME_MED(){return Tn}static get DATETIME_MED_WITH_SECONDS(){return kn}static get DATETIME_MED_WITH_WEEKDAY(){return vs}static get DATETIME_FULL(){return On}static get DATETIME_FULL_WITH_SECONDS(){return Sn}static get DATETIME_HUGE(){return bn}static get DATETIME_HUGE_WITH_SECONDS(){return xn}}function De(t){if(y.isDateTime(t))return t;if(t&&t.valueOf&&le(t.valueOf()))return y.fromJSDate(t);if(t&&typeof t=="object")return y.fromObject(t);throw new q(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const fi=function(t){return y.fromJSDate(new Date(t)).toFormat("yyyy-LL-dd")},on=function(t){return y.fromFormat(t+"","dd/MM/yyyy").toFormat("yyyy-LL-dd")},mi=function(t){return y.fromSeconds(t).toFormat("dd/MM/yyyy")},Tt=function(t){const e=y.fromJSDate(new Date(t)),n=e.setLocale("it").toFormat("cccc"),s=e.toFormat("d"),r=e.setLocale("it").toFormat("LLLL");return`${n} ${s} ${r}`},hi=function(t){const e=y.fromFormat(t,"dd/MM/yyyy"),n=e.setLocale("it").toFormat("cccc"),s=e.toFormat("d"),r=e.setLocale("it").toFormat("LLLL");return`${n} ${s} ${r}`},os=function(t){return Tt(t).includes("Invalid DateTime")?hi(t):Tt(t)};class he{static async fetchAll(e){const n=e.get("location_permalink");return e.delete("location_permalink"),e.set("api_version","v2"),(await Ie(`/ticket_office/${n}/orders`,e)).data}static async calendar(e){const n=e.location_permalink;return delete e.location_peramlink,e.api_version="v2",(await Ct(`/ticket_office/${n}/search/calendar`,e)).data}static async getOrderDetail(e){return(await Ie(`/orders/${e}`)).data.order}static async createOrder(e){return(await ls("/orders",e.formData)).data.order}static async deleteOrder(e){return(await us(`/orders/${e}`)).data}static async updateOrder(e){return(await Ct(`/orders/${e.id}/update`,e.formData)).data.order}}const Nt=Qe({id:"order",state:()=>({order:{},orders:[],response_orders:{},total_orders:Number,calendar:{}}),getters:{allOrders:t=>t.response_orders.orders,responseOrders:t=>t.response_orders,getTotalOrders:t=>t.response_orders?t.response_orders.total:0,getCurrentOrder:t=>t.order,status:()=>[{name:"Attivo",value:"true"},{name:"Disattivo",value:"false"}],getCalendar:t=>t.calendar},actions:{async fetchAllOrders(t){await he.fetchAll(t).then(e=>this.response_orders=e)},async fetchOrderDetail(t){await he.getOrderDetail(t).then(e=>this.order=e)},async fetchCalendar(t){await he.calendar(t).then(e=>this.calendar=e)},async createOrder(t){await he.createOrder(t).then(e=>this.order=e)},async updateOrder(t){await he.updateOrder(t).then(e=>this.order=e)},async deleteOrder(t){await he.deleteOrder(t).then(e=>this.order=e)}}}),yi={props:["filters"],setup(t){we(()=>{f.value=!0,v.value={first:0,rows:l.value.rows,sortField:null,sortOrder:null},v.value.page=0,t.filters.location_permalink&&U()});const e=Nt(),n=W(()=>e.responseOrders),s=W(()=>e.status),r=cs(),o=W(()=>r.submitDialog),i=W(()=>r.cancelDialog),a=_e(),l=E(),u=E(),d=E(),h=E([{code:"2023795703",type:"Biglietto intero",quantity:1,tickets_url:"https://s3-eu-central-1.amazonaws.com/kalata-production/production/uploads/tickets/VIC_2023795703.pdf",no_show_tickets:!1,check_in:!0},{code:"2023795704",type:"Biglietto intero",quantity:1,tickets_url:"https://s3-eu-central-1.amazonaws.com/kalata-production/production/uploads/tickets/VIC_2023795703.pdf",no_show_tickets:!1,check_in:!1},{code:"2023795705",type:"Biglietto ridotto",quantity:1,tickets_url:"https://s3-eu-central-1.amazonaws.com/kalata-production/production/uploads/tickets/VIC_2023795703.pdf",no_show_tickets:!1,check_in:!1},{code:"2023795706",type:"Biglietto gratuito",quantity:1,tickets_url:"https://s3-eu-central-1.amazonaws.com/kalata-production/production/uploads/tickets/VIC_2023795703.pdf",no_show_tickets:!1,check_in:!1}]),S=E(["Da pagare","Pagato","Gratuito"]),f=E(!0),v=E(),b=E(0),p=E([]),w=E([]);function U(){f.value=!0;let D=new Map;for(const $ in t.filters)$=="date"?on(t.filters.date)=="Invalid DateTime"?D.set("date",fi(t.filters.date)):D.set("date",on(t.filters.date)):t.filters.location_permalink&&D.set("location_permalink",t.filters.location_permalink);setTimeout(()=>{de(D)},Math.random()*1e3+250)}const de=async function(D){await e.fetchAllOrders(D).then(()=>{f.value=!1}).catch($=>{f.value=!1,ue(a,$)})},Se=function(D){},st=function(D,$){D.stopPropagation(),D.stopImmediatePropagation(),u.value=$;let ot="Sei sicuro di voler disattivare l'utente <b>"+($==null?void 0:$.email)+"</b> ?";r.setDialog("Cambia stato","Conferma","Annulla",ot),r.setDynamicDialogVisibility(!0)},rt=async function(){var $;f.value=!0;const D={order_id:u.value.id,order:{enabled:($=u.value)==null?void 0:$.enabled}};await e.updateOrder(D).then(()=>{f.value=!1,hs(a,{message:"Stato aggiornato correttamente",error:!1}),U()}).catch(ot=>{f.value=!1,ue(a,ot)})},be=function(D){return D!=null&&D.cluster?D.cluster:""},re=D=>{d.value.toggle(D)},it=(D,$)=>{if(D>=(D+$)/2)return"green";if(D<=(D+$)/3)return"red"},as=function(D,$){$&&(d.value.note=$,d.value.toggle(D))};return ne(o,()=>{rt()}),ne(i,()=>{u.value.enabled?u.value.enabled=!1:u.value.enabled=!0}),ne(t.filters,()=>{t.filters.location_permalink&&U()}),{dt:l,responseOrders:n,loading:f,totalRecords:b,lazyParams:v,currentOrder:u,status:s,expandedRows:p,expandedRows1:w,op:d,tmp_tickets:h,payments:S,showSidebar:Se,loadLazyData:U,onChangeStatus:st,getRowClass:be,toggle:re,getProgressClass:it,showNotes:as,formatDataFromUnixTimestamps:mi}},components:{}};const pi={class:"order-table"},gi={style:{width:"15rem"}},wi={class:"m-0 text-right",style:{"font-size":"12px"}},_i={style:{width:"15rem"}},vi={class:"m-0 text-right",style:{"font-size":"12px"}},Ti=["href"],ki=g("i",{class:"pi pi-file-pdf"},null,-1),Oi=[ki],Si=["href"],bi=g("i",{class:"pi pi-file-pdf"},null,-1),xi=[bi];function Di(t,e,n,s,r,o){const i=O("Column"),a=O("ProgressBar"),l=O("Dropdown"),u=O("Checkbox"),d=O("Button"),h=O("OverlayPanel"),S=O("Badge"),f=O("DataTable"),v=ds("tooltip");return C(),V("div",pi,[m(f,{value:s.responseOrders.time_slots,totalRecords:s.responseOrders.total,lazy:!0,paginator:!1,ref:"dt",loading:s.loading,stripedRows:"",rowClass:s.getRowClass,expandedRows:s.expandedRows,"onUpdate:expandedRows":e[1]||(e[1]=b=>s.expandedRows=b)},{empty:x(()=>[ye(" Nessuna prenotazione trovata. ")]),expansion:x(b=>[m(f,{value:b.data.orders,class:"m-4 mx-4",expandedRows:s.expandedRows1,"onUpdate:expandedRows":e[0]||(e[0]=p=>s.expandedRows1=p)},{expansion:x(p=>[m(f,{value:s.tmp_tickets,class:"m-4 mx-5"},{default:x(()=>[m(i,{header:"Codice biglietto",field:"code"}),m(i,{header:"Tipo biglietto",field:"type"},{body:x(({data:w})=>[m(S,{value:w.type,class:It([w.type,"px-3 border-round-lg"])},null,8,["value","class"])]),_:1}),m(i,{header:"PDF",field:"tickets_url"},{body:x(({data:w})=>[g("a",{href:w.tickets_url,target:"_blank"},xi,8,Si)]),_:1}),m(i,{header:"Check-in"},{body:x(({data:w})=>[g("div",null,[m(u,{modelValue:w.check_in,"onUpdate:modelValue":U=>w.check_in=U,binary:!0},null,8,["modelValue","onUpdate:modelValue"])])]),_:1}),m(i,{header:"No-show"},{body:x(({data:w})=>[g("div",null,[m(u,{modelValue:w.no_show_tickets,"onUpdate:modelValue":U=>w.no_show_tickets=U,binary:!0},null,8,["modelValue","onUpdate:modelValue"])])]),_:1})]),_:1},8,["value"])]),default:x(()=>[m(i,{header:"Codice",field:"code"}),m(i,{header:"Effettuato da",field:"created_by"}),m(i,{header:"Acquirente"},{body:x(({data:p})=>[ye(L(p.user_name)+" "+L(p.user_surname),1)]),_:1}),m(i,{header:"Q.ta",field:"quantity"}),m(i,{header:"Email",field:"user_email"}),m(i,{header:"Pdf",field:"pdf"},{body:x(({data:p})=>[g("a",{href:p.tickets_url,target:"_blank"},Oi,8,Ti)]),_:1}),m(i,{header:"Pagamento"},{body:x(({data:p})=>[m(l,{modelValue:p.payment,"onUpdate:modelValue":w=>p.payment=w,options:s.payments,class:"w-full"},null,8,["modelValue","onUpdate:modelValue","options"])]),_:1}),m(i,{header:"Check-in"},{body:x(({data:p})=>[g("div",null,[m(u,{modelValue:p.check_in,"onUpdate:modelValue":w=>p.check_in=w,binary:!0},null,8,["modelValue","onUpdate:modelValue"])])]),_:1}),m(i,{header:"",style:{"padding-right":"0"}},{body:x(({data:p})=>[at(m(d,{type:"button","aria-haspopup":"true","aria-controls":"overlay_menu",class:"mr-3",icon:"pi pi-comment",text:"",rounded:"",onClick:w=>s.showNotes(w,p.notes),disabled:!p.notes},null,8,["onClick","disabled"]),[[v,"Note",void 0,{top:!0}]]),m(h,{ref:"op"},{default:x(()=>[ye(L(s.op.note),1)]),_:1},512),at(m(d,{type:"button","aria-haspopup":"true","aria-controls":"overlay_menu",class:"mr-3",icon:"pi pi-trash",text:"",rounded:""},null,512),[[v,"Elimina",void 0,{top:!0}]]),at(m(d,{type:"button","aria-haspopup":"true","aria-controls":"overlay_menu",class:"mr-0 text-primary",icon:"pi pi-calendar",text:"",rounded:""},null,512),[[v,"Prenota",void 0,{top:!0}]])]),_:1}),m(i,{expander:"",style:{width:"5rem"}})]),_:2},1032,["value","expandedRows"])]),default:x(()=>[m(i,{header:"Percorso",field:"course_name",filterMatchMode:"contains",ref:"course_name"},null,512),m(i,{header:"Orario",field:"start_at",filterMatchMode:"contains",ref:"start_at"},null,512),m(i,{header:"Posti prenotati",ref:"availabe_tickets",field:"availabe_tickets"},{body:x(({data:b})=>[g("div",gi,[g("p",wi,L(b.confirmed_seats)+"/"+L(b.remaing_seats+b.confirmed_seats),1),m(a,{value:b.confirmed_seats*100/(b.remaing_seats+b.confirmed_seats),showValue:!1,style:{height:"10px"},class:It(["available-progress",s.getProgressClass(b.confirmed_seats,b.remaing_seats)])},null,8,["value","class"])])]),_:1},512),m(i,{header:"Check-in",ref:"confirmed_tickets",field:"confirmed_tickets"},{body:x(({data:b})=>[g("div",_i,[g("p",vi," 0 /"+L(b.confirmed_seats),1),m(a,{value:b.availabe_tickets,showValue:!1,style:{height:"10px"},class:"check-in-progress"},null,8,["value"])])]),_:1},512),m(i,{expander:"",style:{width:"5rem"}})]),_:1},8,["value","totalRecords","loading","rowClass","expandedRows"])])}const Mi=Q(yi,[["render",Di]]);class Ni{static async fetchAll(){return(await Ie("/locations/select?online=true")).data}}const Et=Qe({id:"location",state:()=>({location:{},locations:[],response_locations:{}}),getters:{allLocations:t=>t.response_locations.locations,responseLocations:t=>t.response_locations,getTotalLocations:t=>t.response_locations?t.response_locations.total:0,getCurrentLocation:t=>t.location},actions:{async fetchAllLocations(){await Ni.fetchAll().then(t=>this.response_locations=t)}}}),Ei={props:["filters"],setup(t,e){we(()=>{h();let p=y.now();n.value=t.filters,n.value.date=p.toFormat("dd/MM/yyyy"),v()});const n=E({}),s=Et(),r=Nt(),o=_e(),i=E([]),a=W(()=>s.allLocations),l=W(()=>r.getCalendar),u=function(){},d=async function(p){await r.fetchCalendar(p).then(()=>{}).catch(w=>{ue(o,w)})},h=async function(){await s.fetchAllLocations().then(()=>{S()}).catch(p=>{ue(o,p)})},S=function(){if(t.filters.location_permalink){const p=a.value.find(w=>w.permalink===t.filters.location_permalink);i.value=p.courses}},f=function(p){let w={};w.month=y.fromJSDate(new Date(p)).month,w.year=y.fromJSDate(new Date(p)).year,w.location_permalink=t.filters.location_permalink,d(w)},v=function(){let p=y.now(),w={location_permalink:"",month:"",year:""};w.location_permalink=t.filters.location_permalink,w.month=p.month+"",w.year=p.year+"",d(w)},b=function(p){if(l.value.web_dates&&l.value.web_dates.length!=0){let w=p.month+1;w=p.month<10?"0"+w:w;let U=p.day<10?"0"+p.day:p.day,de=p.year+"-"+w+"-"+U;return l.value.web_dates.find(Se=>Se==de)}};return ne(t.filters,()=>{v()}),{form:n,courses:i,locations:a,calendar:l,resetField:u,getCourses:S,onDateChange:f,getDayFromDate:b}}};const Ci={class:"flex calendar-filter"},Ii={key:0,class:"special-day"};function Fi(t,e,n,s,r,o){const i=O("Calendar");return C(),V("div",Ci,[m(i,{modelValue:s.form.date,"onUpdate:modelValue":e[0]||(e[0]=a=>s.form.date=a),inline:"",onDateSelect:e[1]||(e[1]=a=>s.onDateChange(a))},{date:x(a=>[s.getDayFromDate(a.date)?(C(),V("div",Ii,[g("span",null,L(a.date.day),1)])):(C(),V(Ye,{key:1},[ye(L(a.date.day),1)],64))]),_:1},8,["modelValue"])])}const Vi=Q(Ei,[["render",Fi]]),$i={props:["filters"],setup(t,e){we(()=>{n.value=Object.assign({},t.filters),n.value.date=y.now().toFormat("dd/MM/yyyy")});const n=E({}),s=E([]),r=Et();_e();const o=Nt(),i=W(()=>r.allLocations),a=W(()=>o.responseOrders),l=function(){n.value.name=null,n.value.course=null,e.emit("onSubmit",n.value)},u=function(){if(s.value=[],n.value.location_permalink){const d=i.value.find(h=>h.permalink===n.value.location_permalink);s.value=d.courses,s.value[0].id!="-1"&&s.value.unshift({id:"-1",name:"Tutti i percorsi"}),n.value.course=s.value[0].id}};return ne(i,()=>{t.filters.location_permalink&&i.value&&(n.value=Object.assign({},t.filters),u())}),ne(t.filters,()=>{t.filters.location_permalink&&i.value&&(n.value=Object.assign({},t.filters),u())}),ne(a,()=>{const S=y.local().startOf("hour").plus({minutes:30}).toFormat("HH:mm");if(a.value.time_slots){const f=a.value.time_slots.find(v=>v.start_at===S);f&&(n.value.hour=f)}}),{form:n,courses:s,locations:i,responseOrders:a,resetField:l,getCourses:u}}},Li={class:"formgrid grid px-0 align-items-center"},Ai={key:0,class:"field col-4 flex flex-column"},Zi=g("label",{for:"typology"},"Filtra per percorso",-1),zi={key:1,class:"field col-3 flex flex-column"},Ui=g("label",{for:"typology"},"Filtra per orario (dalle)",-1),Ri=g("div",{class:"col-12"},null,-1),qi={class:"field col-4 flex flex-column"},Wi=g("label",{for:"typology"},"Filtra per nome acquirente",-1),Pi={class:"flex col-12 justify-content-end pt-1"};function Hi(t,e,n,s,r,o){const i=O("Dropdown"),a=O("InputText"),l=O("Button"),u=O("AccordionTab"),d=O("Accordion");return C(),kt(d,{activeIndex:0},{default:x(()=>[m(u,{header:"FILTRI"},{default:x(()=>[g("div",Li,[s.form.location_permalink?(C(),V("div",Ai,[Zi,m(i,{modelValue:s.form.course,"onUpdate:modelValue":e[0]||(e[0]=h=>s.form.course=h),options:s.courses,optionLabel:"name",optionValue:"id",placeholder:""},null,8,["modelValue","options"])])):se("",!0),s.responseOrders?(C(),V("div",zi,[Ui,m(i,{modelValue:s.form.hour,"onUpdate:modelValue":e[1]||(e[1]=h=>s.form.hour=h),options:s.responseOrders.time_slots,optionLabel:"start_at",placeholder:"",disabled:!s.responseOrders.time_slots||s.responseOrders.time_slots.length==0},null,8,["modelValue","options","disabled"])])):se("",!0),Ri,g("div",qi,[Wi,m(a,{modelValue:s.form.name,"onUpdate:modelValue":e[2]||(e[2]=h=>s.form.name=h),placeholder:""},null,8,["modelValue"])])]),g("div",Pi,[m(l,{label:"Ricerca",class:"mr-2",onClick:e[3]||(e[3]=h=>t.$emit("onSubmit",s.form))}),m(l,{label:"Annulla",class:"p-button-outlined",onClick:e[4]||(e[4]=h=>s.resetField())})])]),_:1})]),_:1})}const Yi=Q($i,[["render",Hi]]);class Bi{static async fetchAll(e){const n=e.get("location_permalink");return e.delete("location_permalink"),e.set("api_version","v2"),(await Ie(`/ticket_office/${n}/courses`,e)).data}}const Gi=Qe({id:"course",state:()=>({course:{},courses:[],response_courses:{}}),getters:{allCourses:t=>t.response_courses.tickets,responseCourses:t=>t.response_courses,getTotalCourses:t=>t.response_courses?t.response_courses.total:0,getCurrentCourse:t=>t.course},actions:{async fetchAllCourses(t){await Bi.fetchAll(t).then(e=>this.response_courses=e)}}});class Ji{static async fetchAll(e){const n=e.get("location_permalink");return e.delete("location_permalink"),e.set("api_version","v2"),(await Ie(`/ticket_office/${n}/tickets`,e)).data}}const ji=Qe({id:"ticket",state:()=>({ticket:{},tickets:[],response_tickets:{}}),getters:{allTickets:t=>t.response_tickets.tickets,responseTickets:t=>t.response_tickets,getTotalTickets:t=>t.response_tickets?t.response_tickets.total:0,getCurrentTicket:t=>t.ticket},actions:{async fetchAllTickets(t){await Ji.fetchAll(t).then(e=>this.response_tickets=e)}}}),Qi={props:["form"],setup(t){const e=E(0);return{counter:e,decrement:function(){e.value>0&&e.value--},increment:function(){e.value++}}}};const Ki={class:"btn-plus-min flex align-items-center"},Xi={class:"counter"};function eo(t,e,n,s,r,o){const i=O("Button");return C(),V("div",Ki,[m(i,{icon:"pi pi-minus",rounded:"",outlined:"",severity:"secondary",onClick:s.decrement,disabled:s.counter===0},null,8,["onClick","disabled"]),g("div",Xi,L(s.counter),1),m(i,{icon:"pi pi-plus",rounded:"",outlined:"",severity:"secondary",onClick:s.increment},null,8,["onClick"])])}const to=Q(Qi,[["render",eo]]),no={props:["tickets","form"],setup(t){return{total:E(0)}},components:{PlusMinusButton:to}},so={key:0,class:"flex justify-content-between align-items-center"},ro={class:"flex align-items-center col-9"},io={class:"col-4 pl-0"},oo={class:"text-right col-2"},ao={class:"col-3 flex justify-content-end"},lo=g("hr",{class:"mt-3"},null,-1),uo={class:"flex align-items-center justify-content-between"},co={class:"col-9 flex"},fo=g("div",{class:"col-4 pl-0"},[g("b",null,"Totale")],-1),mo={class:"col-2 text-right"},ho={class:"col-3 flex justify-content-end"};function yo(t,e,n,s,r,o){const i=O("PlusMinusButton"),a=O("Button");return C(),V(Ye,null,[(C(!0),V(Ye,null,fs(n.tickets,l=>{var u,d,h;return C(),V("div",{key:l.id},[((u=l.course)==null?void 0:u.id)==((d=n.form.course)==null?void 0:d.id)?(C(),V("div",so,[g("div",ro,[g("b",io,L(l.name),1),g("div",oo,"€ "+L((h=l.price)==null?void 0:h.toFixed(2)),1)]),g("div",ao,[m(i)])])):se("",!0)])}),128)),lo,g("div",uo,[g("div",co,[fo,g("div",mo,"€ "+L(s.total.toFixed(2)),1)]),g("div",ho,[m(a,{label:"Prosegui"})])])],64)}const po=Q(no,[["render",yo]]),go={setup(){return{total:E(0)}}};function wo(t,e,n,s,r,o){return C(),V("div")}const _o=Q(go,[["render",wo]]),vo={props:["form"],setup(t){we(()=>{r()});const e=ji(),n=_e(),s=W(()=>e.allTickets),r=async function(){const o=new Map;o.set("location_permalink",t.form.location_permalink),await e.fetchAllTickets(o).then(()=>{}).catch(i=>{ue(n,i)})};return{tickets:s,formatExplicitDate:Tt,formatDate:os}},components:{NewOrderTicketTab:po,NewOrderFormTab:_o}};const To={class:"info-box"},ko={class:"font-medium"},Oo=g("i",{class:"pi pi-map-marker mr-1 font-medium"},null,-1),So={class:"font-medium"},bo=g("i",{class:"pi pi-calendar mr-2 font-medium"},null,-1),xo={class:"capitalize"},Do=g("p",{class:"m-0"}," At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus. ",-1);function Mo(t,e,n,s,r,o){const i=O("NewOrderTicketTab"),a=O("TabPanel"),l=O("NewOrderFormTab"),u=O("TabView");return C(),V(Ye,null,[g("div",To,[g("p",ko,[Oo,ye(" "+L(n.form.course.name),1)]),g("p",So,[bo,g("span",xo,L(s.formatDate(n.form.date)),1),ye(" - "+L(n.form.hour),1)])]),m(u,null,{default:x(()=>[m(a,{header:"Seleziona i biglietti"},{default:x(()=>[m(i,{tickets:s.tickets,form:n.form},null,8,["tickets","form"])]),_:1}),m(a,{header:"Inserisci i dati"},{default:x(()=>[m(l)]),_:1}),m(a,{header:"Conferma e paga"},{default:x(()=>[Do]),_:1})]),_:1})],64)}const No=Q(vo,[["render",Mo]]),Eo={props:["filters"],setup(t){we(()=>{a(),r.value=ys(8,20),e.value=t.filters});const e=E({}),n=Gi(),s=_e(),r=E(),o=E(!1),i=W(()=>n.allCourses),a=async function(){const l=new Map;l.set("location_permalink",t.filters.location_permalink),await n.fetchAllCourses(l).then(()=>{}).catch(u=>{ue(s,u)})};return ne(t.filters,()=>{t.filters.location_permalink&&a()}),{courses:i,form:e,hours:r,visible:o}},components:{NewOrderDialog:No}},Co=g("h2",{class:"mt-1"},"Nuova prenotazione",-1),Io={class:"formgrid grid px-0 align-items-center mt-4"},Fo={key:0,class:"field flex flex-column w-full col-12"},Vo=g("label",{for:"typology"},"Scegli il percorso",-1),$o={key:1,class:"field flex flex-column w-full col-12"},Lo=g("label",{for:"typology"},"Seleziona l'orario",-1),Ao={class:"flex justify-content-end mt-2"};function Zo(t,e,n,s,r,o){const i=O("Dropdown"),a=O("Button"),l=O("NewOrderDialog"),u=O("Dialog"),d=O("Card");return C(),kt(d,{class:"mt-4"},{content:x(()=>[Co,g("div",Io,[n.filters.location_permalink?(C(),V("div",Fo,[Vo,m(i,{modelValue:s.form.course,"onUpdate:modelValue":e[0]||(e[0]=h=>s.form.course=h),options:s.courses,optionLabel:"name"},null,8,["modelValue","options"])])):se("",!0),n.filters.location_permalink?(C(),V("div",$o,[Lo,m(i,{modelValue:s.form.hour,"onUpdate:modelValue":e[1]||(e[1]=h=>s.form.hour=h),options:s.hours},null,8,["modelValue","options"])])):se("",!0)]),g("div",Ao,[m(a,{label:"Prenota",disabled:!s.form.course||!s.form.hour,onClick:e[2]||(e[2]=h=>s.visible=!0)},null,8,["disabled"])]),m(u,{visible:s.visible,"onUpdate:visible":e[3]||(e[3]=h=>s.visible=h),modal:"",header:"Nuova prenotazione",style:{width:"50rem"},breakpoints:{"1199px":"75vw","575px":"90vw"}},{default:x(()=>[m(l,{form:s.form},null,8,["form"])]),_:1},8,["visible"])]),_:1})}const zo=Q(Eo,[["render",Zo]]),Uo={setup(){we(()=>{o.value&&(t.value.location_permalink=o.value.location.permalink,a())});const t=E({}),e=E(),n=ms(),s=Et(),r=_e(),o=W(()=>n.currentUser),i=W(()=>s.allLocations),a=async function(){await s.fetchAllLocations().then(()=>{}).catch(l=>{ue(r,l)})};return{filters:t,orderTable:e,user:o,locations:i,fetchAllLocations:a,formatDate:os}},components:{CalendarFilter:Vi,OrderTable:Mi,OrderFilter:Yi,NewOrderCard:zo}};const Ro={class:"flex justify-content-between align-items-center"},qo={class:"field flex flex-column mt-3"},Wo={key:0,style:{color:"#495057"}},Po=g("i",{class:"pi pi-calendar mr-2 text-xl"},null,-1),Ho={class:"capitalize text-xl"},Yo={class:"flex gap-4"},Bo={key:0,class:"col-3 mt-3"},Go={class:"col-9 mt-3"};function Jo(t,e,n,s,r,o){const i=O("Dropdown"),a=O("CalendarFilter"),l=O("NewOrderCard"),u=O("OrderFilter"),d=O("OrderTable");return C(),V("div",null,[g("div",Ro,[g("div",qo,[m(i,{modelValue:s.filters.location_permalink,"onUpdate:modelValue":e[0]||(e[0]=h=>s.filters.location_permalink=h),options:s.locations,optionLabel:"name",optionValue:"permalink",placeholder:"Filtra per location",class:"location"},null,8,["modelValue","options"])]),s.filters&&s.filters.date?(C(),V("div",Wo,[Po,g("span",Ho,L(s.formatDate(s.filters.date)),1)])):se("",!0)]),g("div",Yo,[s.filters.location_permalink?(C(),V("div",Bo,[m(a,{filters:s.filters},null,8,["filters"]),m(l,{filters:s.filters},null,8,["filters"])])):se("",!0),g("div",Go,[m(u,{filters:s.filters},null,8,["filters"]),s.filters.date?(C(),kt(d,{key:0,filters:s.filters,ref:"orderTable",class:"mt-4"},null,8,["filters"])):se("",!0)])])])}const Ko=Q(Uo,[["render",Jo]]);export{Ko as default};
