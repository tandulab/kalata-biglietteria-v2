import{d as b,o as x,u as g,a as y,c as V,_ as L,r as t,b as v,e as P,f as o,w as l,g as a,h as S}from"../index48276.js";import{u as B,c as C,a as h,L as W,F as $}from"./loader48276.js";import{I as k}from"./InputTextWithValidation48276.js";import{P as F}from"./PasswordWithValidation48276.js";import{e as I}from"./helpers48276.js";const T=b({name:"LoginView",setup(){x(()=>{e.clearUser()});const e=g(),m=y(),{showLoader:d,hideLoader:n}=B(),p=C({email:h().required().email().label("Email obbligatoria"),password:h().required().label("Password obbligatoria")}),u=V(()=>e.user);return{schema:p,currentUser:u,onSubmit:async function(s,r){const c={email:s.email,password:s.password};d(),await e.login(c).then(async()=>{n(),r.resetForm()}).catch(i=>{n(),I(m,i)})}}},components:{Logo:W,InputTextWithValidation:k,PasswordWithValidation:F,Form:$}});const E={class:"flex justify-content-center align-items-center h-screen mt-0 login"},U={class:"m-2 text-center"},N=a("h1",{class:"mb-3 mt-0 text-center"},"Accedi al profilo",-1),j=a("h2",{class:"text-center font-normal mb-3"}," Benvenuto! Inserisci la tua email e la password ",-1),q={class:"w-full flex justify-content-start cursor-pointer text-color-secondary m-0"};function A(e,m,d,n,p,u){const _=t("Logo"),s=t("InputTextWithValidation"),r=t("PasswordWithValidation"),c=t("router-link"),i=t("Button"),f=t("Form"),w=t("Card");return v(),P("div",E,[o(w,{class:"py-4 px-3"},{content:l(()=>[a("div",U,[o(_)]),N,j,o(f,{"validation-schema":e.schema,onSubmit:e.onSubmit,class:"flex flex-column"},{default:l(()=>[o(s,{name:"email",label:"Email",type:"text"}),o(r,{name:"password",label:"Password",type:"password"}),a("div",q,[o(c,{to:"/password-dimenticata",class:"text-color-secondary"},{default:l(()=>[S("Password dimenticata?")]),_:1})]),o(i,{label:"Entra",type:"submit",class:"mt-5 mb-3"})]),_:1},8,["validation-schema","onSubmit"])]),_:1})])}const J=L(T,[["render",A]]);export{J as default};
